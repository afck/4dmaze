<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <title>4DMaze</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
  <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  <link rel="stylesheet" type="text/css" href="stylesheets/4dmaze.css" media="screen">
</head>
<body>
  <section class="page-header">
    <h1 class="project-name">4dmaze</h1>
    <h2 class="project-tagline">A four-dimensional tile-based maze game</h2>
    <a href="index.html" class="btn">Back to the homepage</a>
    <a href="#game" onclick="loadLevel('mazes/0.txt');" class="btn">Level 0</a>
    <a href="#game" onclick="loadLevel('mazes/1.txt');" class="btn">Level 1</a>
    <a href="#game" onclick="loadLevel('mazes/2.txt');" class="btn">Level 2</a>
    <a href="#game" onclick="loadLevel('mazes/3.txt');" class="btn">Level 3</a>
    <a href="#game" onclick="loadLevel('mazes/4.txt');" class="btn">Level 4</a>
    <a href="#game" onclick="loadLevel('mazes/5.txt');" class="btn">Level 5</a>
    <a href="#game" onclick="loadLevel('mazes/6.txt');" class="btn">Level 6</a>
  </section>
  <section class="anchor main-content" id="game">
    <h2>4D Maze - JavaScript version</h2>
    <p>Play with W, A, S, D and I, J, K, L. For
    details read <a href="index.html">the documentation here</a></p>
    <canvas id="mazeCanvas" onclick="onClickHandler">
      Your browser does not support HTML5. Please upgrade.
    </canvas>
    <div class="controls">
      <div onclick="maze.move([0, 0, 0, -1]); draw();"
           class="arrow"
           title="Major-up: keys I or up arrow">
        &#x2b06;
      </div>
      <br />
      <div onclick="maze.move([0, 0, -1, 0]); draw();"
           class="arrow"
           title="Minor-up: key W">
        &#x21e7;
      </div>
      <br />
      <div onclick="maze.move([0, -1, 0, 0]); draw();"
           class="arrow"
           title="Major-left: keys J or left arrow">
        &#x2b05;
      </div>
      <div onclick="maze.move([-1, 0, 0, 0]); draw();"
           class="arrow"
           title="Minor-left: key A">
        &#x21e6;
      </div>
      <div></div>
      <div onclick="maze.move([1, 0, 0, 0]); draw();"
           class="arrow"
           title="Minor-right: key D">
        &#x21e8;
      </div>
      <div onclick="maze.move([0, 1, 0, 0]); draw();"
           class="arrow"
           title="Major-right: keys L or right arrow">
        &#x27a1;
      </div>
      <br />
      <div onclick="maze.move([0, 0, 1, 0]); draw();"
           class="arrow"
           title="Minor-down: key S">
        &#x21e9;
      </div>
      <br />
      <div onclick="maze.move([0, 0, 0, 1]); draw();"
           class="arrow"
           title="Major-down: keys K or down arrow">
        &#x2b07;
      </div>
    </div>
    <br />
    <button id="editLevelButton"
            type="button"
            onclick="editLevel()">Edit level (Spoiler!)</button>
    <div id="editLevel">
      <p>
        Paste your own levels here to play them! Note that the contents of this
        box are not saved anywhere, so make sure to copy them into a text file.
        See <a href="#buildingBlocks">below</a> for a list of available building
        blocks. In construction mode, you can solve the maze in reverse: Click
        on an item in your inventory to put it on the map, if it is guaranteed
        that the level remains solvable that way.
      </p>
      <!-- TODO: wrap="off" is not valid HTML5, but there seems to be no other
                 way to achieve the same effect. -->
      <textarea id="levelText" wrap="off"></textarea>
      <p id="errorMessage"></p>
      <button type="button" onclick="playLevel()">Play!</button>
      <button type="button" onclick="maze.toggleReverseMode(); draw();">
        Toggle construction mode
      </button>
      <button type="button" onclick="loadCurrent()">
        Load current state into the text field
      </button>
      <table id="buildingBlocks" class="anchor">
         <thead><th>Symbol</th><th>Level element</th></thead>
         <tbody>
           <tr><td>"S"</td><td>Starting position</td></tr>
           <tr><td>" "</td><td>Empty square</td></tr>
           <tr><td>"G"</td><td>Goal</td></tr>
           <tr><td>"0" to "9"</td><td>Wall (different colors)</td></tr>
           <tr><td>"k"</td><td>Silver key</td></tr>
           <tr><td>"K"</td><td>Golden key</td></tr>
           <tr><td>"h"</td><td>Silver lock</td></tr>
           <tr><td>"H"</td><td>Golden lock</td></tr>
           <tr><td>"r"</td><td>Red square</td></tr>
           <tr><td>"g"</td><td>Green square</td></tr>
           <tr><td>"s"</td><td>Red-green toggle switch</td></tr>
           <tr><td>"k"</td><td>Silver key</td></tr>
           <tr><td>"b"</td><td>Movable block</td></tr>
           <tr><td>"B"</td><td>Block-sized hole</td></tr>
         </tbody>
      </table>
    </div>
  </section>
  <script src="js/constants.js"></script>
  <script src="js/game.js"></script>
  <iframe id="levelFile"
          src="mazes/0.txt"
          onload="loadMaze();"
          style="display: none;"></iframe>
</body>
</html>
